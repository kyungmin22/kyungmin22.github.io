<!DOCTYPE html>
<html>
<head>
    <title>같이 수어</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    <style>
        #inputContainer {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div style="display: flex; align-items: center;">
        <button onclick="goBack()" style="font-size:24px; margin-right: 20px;"><i class="fas fa-home"></i></button>
        <h1 style="display: inline;">텍스트를 수어로</h1>
    </div>

    <div id="inputContainer">
        <label for="textInput">텍스트를 입력하세요:</label>
        <input type="text" id="textInput" placeholder="여기에 입력하세요" oninput="showSuggestions(this.value)">
        <button onclick="playVideo()">확인</button>
    </div>
    <div id="suggestions" style="border: 1px solid #ddd; display: none;"></div>
    
    <video id="videoPlayer" width="320" height="240" style="display: none;" muted>
        <source id="videoSource" src="" type="video/mp4">
        브라우저가 비디오를 지원하지 않습니다.
    </video>

    <script>
        var videoNames = ["안녕하세요", "안녕", "example1", "example2"]; // Add your video names here

        function showSuggestions(value) {
            var suggestions = document.getElementById("suggestions");
            suggestions.innerHTML = '';
            if (!value) {
                suggestions.style.display = 'none';
                return;
            }
            var filtered = videoNames.filter(function(name) {
                return name.toLowerCase().startsWith(value.toLowerCase());
            });
            filtered.forEach(function(suggested) {
                var div = document.createElement("div");
                div.innerHTML = suggested;
                div.onclick = function() {
                    document.getElementById("textInput").value = suggested;
                    suggestions.style.display = 'none';
                };
                suggestions.appendChild(div);
            });
            suggestions.style.display = 'block';
        }

        function playVideo() {
            var textInput = document.getElementById('textInput');
            var videoPlayer = document.getElementById('videoPlayer');
            var videoSource = document.getElementById('videoSource');

            videoSource.src = '수어 영상/' + textInput.value + '.mp4'; // 예시로, 서버에 있는 파일을 참조
            videoPlayer.load();

            videoPlayer.onerror = function() {
                alert("동영상이 없습니다.");
                videoPlayer.style.display = 'none';
            };

            videoPlayer.onloadeddata = function() {
                videoPlayer.style.display = 'block';
                videoPlayer.play();
                textInput.value = '';
            };

            videoPlayer.onended = function() {
                videoPlayer.style.display = 'none';
            };
        }

        function goBack() {
            window.history.back();
        }
    </script>
</body>
</html>
